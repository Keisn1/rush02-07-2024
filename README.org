#+title: Readme
* Compilation

#+begin_src makefile
make fclean
make
#+end_src

** Make fclean
- "make fclean" is a custom target added to a Makefile to clean up the project build artifacts
- The "fclean" target usually removes all files generated by the build process, such as executables, object files, intermediate files, and any other build artifacts, leaving the project directory in a clean state as if it was just cloned.
- It is often used to ensure a fresh and clean build environment before starting a new build.

** Makefile
#+begin_src makefile
all: example
%: %.c ; cc -Wall -Wextra -Werror -o $@ $<
fclean: ; rm -f example
#+end_src
*** first line
- =all= is a label
- The =all= target specifies the executable name to be created (=example=).
*** seconde line
- The pattern rule =%: %.c= specifies how to build the executable from its corresponding source file.
** Makefile example

#+begin_src makefile
CC = cc
CFLAGS = -Wall -Wextra -Werror

all: example

example: example.c example2.o example3.o
	$(CC) $(CFLAGS) -o $@ example.c example2.o example3.o

example2.o: example2.c
	$(CC) $(CFLAGS) -c -o $@ example2.c

example3.o: example3.c
	$(CC) $(CFLAGS) -c -o $@ example3.c


fclean: ; rm -f example
#+end_src

1. Create Variables =CC= and =CFLAGS= to use them in compile command later
2. =all= specifies the name of the executable that needs to be created
   - every line like =name1: name2 name3= specifies a dependency, to build name1, one needs to built name2 and name3 first
   - make expects name2 and name3 to be built further along inside the makefile
3. Specification on how to build the object =.o= and the executable
   #+begin_src makefile
example: example.c example2.o example3.o
	$(CC) $(CFLAGS) -o $@ example.c example2.o example3.o

example2.o: example2.c
	$(CC) $(CFLAGS) -c -o $@ example2.c

example3.o: example3.c
	$(CC) $(CFLAGS) -c -o $@ example3.c
   #+end_src
4. =fclean= specifies how to remove all files generated by the build process
   - executables (=example=), object files (=*.o=), intermediate files, and any other build artifacts
   - leaves the project directory in a clean state
